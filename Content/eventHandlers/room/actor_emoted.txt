{
	"signature":"actor_emoted",
	"function":
	["do_if",
			["value_equal_to",
					["attribute_at_path",
							"data.room"],
					["attribute_at_path",
							"receiver"]],
			
			["do_if",
					["value_equal_to",
							["attribute_at_path",
									"data.target"],
							["None"]],
							
					["forward_event"],
					
					["do_in_sequence",
							["set_value_at_path",
									"",
									["get_element_from_list",
											0,
											["filter_list_with_lambda",
													["filter_list_with_lambda",
															["attribute_at_path",
																	"receiver.attributes.players"],
															"lambda player: player != event.attributes['data']['emoter']"],
													"lambda player: player.attributes['name'].lower().startswith(event.attributes['data']['target'].lower())"]],
									"data.target"],
							["do_if",
									["value_equal_to",
											["attribute_at_path",
													"data.target"],
											["None"]],
											
									["emit_event_from_receiver",
											["create_event",
													{
														"signature":"received_feedback",
														"data":
														{
															"feedback":"You don't see that here",
										
															"actor":	
																["attribute_at_path",
																		"data.emoter"]
														}
													}]],
											
									["forward_event"]]]]]
}